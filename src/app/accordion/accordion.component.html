<h1>My Accordion</h1>
<h2>List of <b>car brands</b> by origin</h2>
<div class="accordion-container">
  <button (click)="handleClick()">{{ buttonValue }}</button>
  <div class="tabs">
    <div
      class="tab"
      *ngFor="let origin of carsOriginBrands | keyvalue; let index = index">
      <input type="checkbox" id="chck -{{ index }}" [checked]="theCheckbox" />
      <label class="tab-label" for="chck -{{ index }}">{{ origin.key }}</label>
      <div class="tab-content">
        <div class="tabs">
          <div class="tab" *ngFor="let brand of origin.value; let i = index">
            <input
              type="checkbox"
              id="chck -{{ i + brand }}"
              [checked]="theCheckbox" />
            <label class="tab-label" for="chck -{{ i + brand }}">{{
              brand
            }}</label>
            <div class="tab-content">
              <table
                mat-table
                [dataSource]="filterBrand(carsDetails, brand)"
                class="mat-elevation-z8">
                <ng-container matColumnDef="brand">
                  <th mat-header-cell *matHeaderCellDef>Brand</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.brand }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="model">
                  <th mat-header-cell *matHeaderCellDef>Model</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.model }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="category">
                  <th mat-header-cell *matHeaderCellDef>Category</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.category }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="release">
                  <th mat-header-cell *matHeaderCellDef>Release</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.release }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="engine">
                  <th mat-header-cell *matHeaderCellDef>Engine</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.engine }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="weight">
                  <th mat-header-cell *matHeaderCellDef>Weight</th>
                  <td mat-cell *matCellDef="let element">
                    {{
                      element.weight.toLocaleString('en-US', {
                        maximumFractionDigits: 0
                      })
                    }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="price">
                  <th mat-header-cell *matHeaderCellDef>Price</th>
                  <td mat-cell *matCellDef="let element">
                    {{
                      element.price.toLocaleString(
                        'en-US',
                        { minimumFractionDigits: 2 },
                        { maximumFractionDigits: 2 }
                      )
                    }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="logo">
                  <th mat-header-cell *matHeaderCellDef>Logo</th>
                  <td mat-cell *matCellDef="let element">
                    <img class="logo__img" src="{{ element.logo }}" alt="" />
                  </td>
                </ng-container>

                <ng-container matColumnDef="images">
                  <th mat-header-cell *matHeaderCellDef>Images</th>
                  <td
                    mat-cell
                    *matCellDef="let element"
                    class="images__container">
                    <img
                      *ngFor="let image of element.images"
                      [src]="image"
                      alt=""
                      class="images__img" />
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns"></tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
